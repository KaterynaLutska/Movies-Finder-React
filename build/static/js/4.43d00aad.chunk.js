(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[4],{41:function(e,t,n){"use strict";var r=n(42),a=n.n(r),c=n(43),o=n(44),i=n.n(o),u="https://api.themoviedb.org/3/",s="68bc44794965f90c41d1f35ad9bb144b",p={getPopularMovie:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"/trending/all/day?api_key=").concat(s)).then((function(e){return e.data.results}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchMovieByName:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"search/movie?query=").concat(t,"&api_key=").concat(s)).then((function(e){return e.data.results}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMovieDetailPage:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"movie/").concat(t,"?api_key=").concat(s,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCast:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"movie/").concat(t,"/credits?api_key=").concat(s)).then((function(e){return e.data.cast}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getReviews:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"movie/").concat(t,"/reviews?api_key=").concat(s)).then((function(e){return e.data.results}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=p},45:function(e,t,n){e.exports={MoviesList:"MoviesList_MoviesList__1o2vk"}},46:function(e,t,n){e.exports={MoviePreviewThumb:"MoviePreview_MoviePreviewThumb__1B5rC",MoviePreviewTitle:"MoviePreview_MoviePreviewTitle__163w9"}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(45),a=n.n(r),c=n(10),o=n(16),i=n(17),u=n(19),s=n(18),p=n(0),h=n(46),v=n.n(h),l=n(1),f=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.imgUrl,r="https://image.tmdb.org/t/p/w500/".concat(n);return Object(l.jsxs)("div",{className:v.a.MoviePreviewThumb,children:[Object(l.jsx)("img",{className:v.a.moviePoster,alt:t,src:null!==n?r:this.props.imgSrc,width:"200px"}),Object(l.jsx)("h2",{className:v.a.MoviePreviewTitle,children:t})]})}}]),n}(p.Component),m=f;f.defaultProps={imgSrc:"https://static.ukrinform.com/photos/2018_12/thumb_files/630_360_1546000648-830.jpg"};var b=function(e){var t=e.movies,n=e.location;return console.log(n,"movielist location"),Object(l.jsx)("ul",{className:a.a.MoviesList,children:t.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(c.b,{to:{pathname:"movies/".concat(e.id),state:{from:n}},children:Object(l.jsx)(m,{id:e.id,title:e.title,vote:e.vote_average,imgUrl:e.poster_path})})},e.id)}))})}},75:function(e,t,n){e.exports={SearchForm:"MoviesPage_SearchForm__1P3up",SearchFormButton:"MoviesPage_SearchFormButton__Cv4iQ",SearchFormButtonLabel:"MoviesPage_SearchFormButtonLabel__1BayS",SearchFormInput:"MoviesPage_SearchFormInput__1a-Sf"}},80:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(16),a=n(17),c=n(19),o=n(18),i=n(0),u=n(41),s=n(47),p=n(75),h=n.n(p),v=n(1),l=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.hanldeChange=function(t){t.preventDefault(),e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.query;e.props.onSubmit(n)},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{className:h.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:this.hanldeChange}),Object(v.jsx)("button",{className:h.a.SearchFormButton,type:"submit",children:Object(v.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})})]})})}}]),n}(i.Component),f=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:"",movies:[],error:null},e.onChangeQuery=function(t){e.setState({query:t.toLowerCase()}),e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(t)})},e.fetchMovie=function(){var t=e.state.query;u.a.fetchMovieByName(t).then((function(t){return e.setState({movies:t}),t})).catch((function(t){e.setState({error:t})}))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=t.query,r=this.state.query;n!==r&&this.fetchMovie(r)}},{key:"render",value:function(){var e=this.state.movies;return Object(v.jsxs)("div",{children:[Object(v.jsx)(l,{onSubmit:this.onChangeQuery}),Object(v.jsx)(s.a,{movies:e})]})}}]),n}(i.Component)}}]);
//# sourceMappingURL=4.43d00aad.chunk.js.map